<mat-sidenav-container class="container">
  <mat-sidenav #sidenav [mode]="sidenavMode" class="sidenav" [opened]="sidenavOpened">
    <mat-nav-list>
      <mat-list-item routerLink="/home" routerLinkActive="active" class="list-item">
        <mat-icon>home_outlined</mat-icon>
        <span>Inicio</span>
      </mat-list-item>
      <mat-list-item routerLink="/materias" routerLinkActive="active" class="list-item">
        <mat-icon>library_books_outlined</mat-icon>
        <span>Material</span>
      </mat-list-item>
      <mat-list-item routerLink="/descobrir" routerLinkActive="active" class="list-item">
        <mat-icon>insights</mat-icon>
        <span>Descobrir</span>
      </mat-list-item>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar class="barra">
      <div class="logo">
        <button mat-icon-button (click)="toggleSidenav()">
          <mat-icon>menu</mat-icon>
        </button>
        <img src="img/logoBranco.svg" alt="" routerLink="/home">
      </div>
      <div class="barpesquisa">
        <div class="pesquisa-grupo">
          <button class="pesquisarBotao-fixed" (click)="toggleSearch()" *ngIf="!isSearchExpanded">
            <mat-icon>search</mat-icon>
          </button>
          <div class="pesquisa" [class.active]="isSearchExpanded">
            <button class="pesquisarBotao" (click)="toggleSearch()">
              <mat-icon class="seta-voltar">{{ isScreenSmall ? 'arrow_back' : 'search' }}</mat-icon>
            </button>
            <input
            #searchInput 
            type="text" 
            placeholder="Pesquisar material por título ou área..."
            [value]="termoPesquisa"
            (input)="onSearchInput($event)"/>
          </div>
        </div>
      </div>
      <div class="user-inicial" (click)="toggleListaSuspensa()">
        <img *ngIf="profileImageUrl; else defaultAvatar" [src]="profileImageUrl" class="user-avatar" />
        <ng-template #defaultAvatar>
          <span class="user-initial">{{ nomeUsuario[0].toUpperCase() }}</span>
        </ng-template>
      </div>
      
    </mat-toolbar>
    <div *ngIf="isListaOpen" class="dropdown-menu">
      <ul>
        <li class="emailUser"><mat-icon>mail</mat-icon> {{ email }}</li>
        <li class=" nomeUser"><mat-icon>account_circle</mat-icon> {{ nomeUsuario }}</li>
        <li class="">
          <button (click)="openImageUploadDialog()">
            <mat-icon>image</mat-icon> Alterar Imagem
          </button>
        </li>
        <li><mat-icon>info</mat-icon> Sobre</li>
        <li>
          <button (click)="logout()">
            <mat-icon>exit_to_app</mat-icon> Sair
          </button>
        </li>
      </ul>
    </div>
    <ng-content select=".conteudoPrincipal"></ng-content>
  </mat-sidenav-content>
</mat-sidenav-container>  