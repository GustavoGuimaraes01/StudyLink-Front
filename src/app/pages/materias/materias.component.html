<!-- materias.component.html -->
<app-menu-pesquisa class="menu">
    <main class="conteudoPrincipal">
        <h1 class="titulo">Organize seus materiais de estudos</h1>
        <section class="cards">
            <button class="adicionarMateria" (click)="openCriarMaterial()">+ Adicionar Material</button>

            <app-criar-material 
                *ngIf="isCriarMaterialOpen" 
                [(isOpen)]="isCriarMaterialOpen"
                [materialParaEditar]="materialParaEditar"
                (materialSalvo)="onMaterialSalvo()">
            </app-criar-material>

    <div *ngFor="let material of materiais" class="botao" (click)="navegarParaAtividades(material.id!)">
    <div class="header">
        <img [src]="material.imagemBanner" alt="" class="background-img">
        <a class="assunto">{{ material.titulo }}</a>
        <a class="area">{{ material.areaConhecimento }}</a>
    </div>
    <div class="content">
        <div class="descricao">
            <mat-icon *ngIf="material.visibilidade === 'PUBLICO'">public</mat-icon>
            <mat-icon *ngIf="material.visibilidade === 'PRIVADO'">lock</mat-icon>
            {{ material.visibilidade }}
        </div>
    </div>
    <div class="footer">
        <button (click)="openCriarMaterial(material); $event.stopPropagation()">
            <img src="img/edit.svg" alt="Editar">
        </button>
        <button (click)="deletarMaterial(material.id!); $event.stopPropagation()">
            <img src="img/delete.svg" alt="Deletar">
        </button>
    </div>
</div>

        </section>
    </main>
</app-menu-pesquisa>